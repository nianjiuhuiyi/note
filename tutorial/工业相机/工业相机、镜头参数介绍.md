![image-20230608184050852](illustration/image-20230608184050852.png)

选型相机时，要注意看这家的相机是否支持==多播==、==组播==，即多个程序去读取一个相机。

​	看到海康的一个GiGE相机，支持组播：“组播功能可以实现多个 PC 对同一个相机同时进行访问。在同一时刻，同一个相机只能被一个客户端以控制和接收模式或控制模式连接，但可被多个客户端以接收模式进行连接。客户端内每个相机的组播模式都是单独控制的。三种组播模式下，可对相机进
行的操作请见表”。

| 组播模式       | 功能介绍                                                     |
| -------------- | ------------------------------------------------------------ |
| 控制和接收模式 | 可以读取及修改相机的参数，同时还可以获取相机的图像数据       |
| 控制模式       | 可以读取及修改相机的参数，但不可以获取相机的图像数据         |
| 接收模式       | 可以读取相机的参数，并获取相机的图像数据，但不能修改相机的参数 |

- 有很多相关知识的[网址](https://www.optmv.com/train/machine.html)，可去学习。

## 一、工业镜头

### 1.1 镜头焦距

镜头焦距：f = (相机感光靶面×物距u) / 物体尺寸  （这是近似的，因为像距原小于物距）
![image-20230608174855705](illustration/image-20230608174855705.png)

---

对焦：物体一个点反射的光线，有很多不同的方向，在不同的物距下，光线在像端汇聚的点位不同，距离不合适时，成像为弥散圆，那这样的点多了，成像就是模糊的，就需要调整镜片组与传感器平面之间的距离，使被检测物体在CCD/CMOS上成的像清晰。

![image-20230608180047602](illustration/image-20230608180047602.png)

所以简单说就是拧镜头使其变远变近就是在对焦。

---

对焦：一个工业镜头，一般是由几个镜片组成的，只是把它们等效成一个镜片，那这些不同镜片间的组合就能==改变这个等效镜片的焦距==，而非固定不变。

![image-20230608180411780](illustration/image-20230608180411780.png)

所以在变焦(一般的摄像头可能不支持变焦)后，就要去对焦，调整靶面位置。

### 1.2 光圈

光圈位于镜头内部，通过收缩与扩大控制入射光强度，也可以过滤入射光线角度。





常规镜头：光圈是位于镜头的中间位 置

远心镜头：光圈是位于它的镜头的焦点位置的

![image-20230608180753199](illustration/image-20230608180753199.png)

---

光圈系数F:就是代表通光量，F越大，D就越小，那通过的光反而越少。

![image-20230608181111499](illustration/image-20230608181111499.png)





### 1.3 景深

大、小景深：

![image-20230608181242631](illustration/image-20230608181242631.png)

原理不写了，记住结论：

- 光圈越小，景深越大
- 焦距越小，景深越大
- 拍摄距离越大，景深越大

### 1.4 远心镜头

主要作用：消除透视(近大远小)，因为远心镜头在焦点放置光圈，限制非平行入射光线成像，达到消除透视的效果

效果：![image-20230608181929479](illustration/image-20230608181929479.png)



原理：

![image-20230608182043733](illustration/image-20230608182043733.png)



种类：

![image-20230608182234561](illustration/image-20230608182234561.png)



应用场景：
![image-20230608182410708](illustration/image-20230608182410708.png)



### 1.5 评价镜头的好坏

镜头分辨率：

![image-20230608182600684](illustration/image-20230608182600684.png)

---

镜头的反差：反差越好，它亮的也能拍，暗的也能拍

![image-20230608182718595](illustration/image-20230608182718595.png)

---



镜头的MTF曲线

它是基于分辨率和反差计算的量化参数，越接近于1越好。代表镜头的成像质量，一般认为0.6为几个，0.8为良好



### 1.6 镜头的接口

C接口比较深，CS接口比较浅

![image-20230608183452842](illustration/image-20230608183452842.png)

下面是能直接卡进去，不用拧的

![image-20230608183612619](illustration/image-20230608183612619.png)



![image-20230608183746594](illustration/image-20230608183746594.png)

### 1.7 镜头的几何像差

![image-20230608184006094](illustration/image-20230608184006094.png)



![image-20230608184050852](illustration/image-20230608184050852.png)

### 1.8 选型要点

1. 镜头靶面尺寸需要大于等于相机CCD靶面尺寸，否则成像有黑边。
2. 镜头的接口和相机接口匹配，C镜头可通过转接口安装到CS相机，CS镜头无法安转到C接口相机。
3. 最重要：计算正确的焦距。



实际例子：

- ![image-20230608184622914](illustration/image-20230608184622914.png)

- ![image-20230608184710530](illustration/image-20230608184710530.png)

## 二、工业相机

### 1、像元尺寸

![image-20230609092441211](illustration/image-20230609092441211.png)

### 2、分辨率

![image-20230609092531619](illustration/image-20230609092531619.png)

### 3、彩色相机和黑白相机的区别

![image-20230609093000865](illustration/image-20230609093000865.png)

有真彩色相机、伪彩色相机。区别原理看这[视频](https://www.bilibili.com/video/BV18s4y1c7WA?t=37.0&p=13)吧。

![image-20230609093356034](illustration/image-20230609093356034.png)

所以彩色相机，可能有的时候图像的边缘会出现伪彩色的情况，但一般还是选用彩色相机，除非要处理的跟图像颜色无关，可选用黑白相机。

### 4、CCD和CMOS的区别

![image-20230609093729314](illustration/image-20230609093729314.png)



![image-20230609093945517](illustration/image-20230609093945517.png)



![image-20230609094021529](illustration/image-20230609094021529.png)



CCD的成像质量比CMOS要好，但CMOS集成度高，且帧率也会比较高，制造成本也比较低，所以现在CMOS相机会比CCD多一点。视频建议是在对成像质量非常高，且对帧率要求不高的情况下才选择CCD

### 5、工业相机的快门

![image-20230609094529836](illustration/image-20230609094529836.png)

所以：卷帘快门，可以在比较暗的行曝光时间长一些，让暗的更亮；在比较亮的行曝光时间短一点，这样就可以拍摄出一张对比度比较均衡的图片。

​	全局快门，它拍摄出来的光线亮度就会比较均匀



全局快门的一个缺点：
![image-20230609095253369](illustration/image-20230609095253369.png)



卷帘快门的一个缺点：（它优点是帧率高）

![image-20230609095604720](illustration/image-20230609095604720.png)

---

选择：

![image-20230609095717350](illustration/image-20230609095717350.png)



### 6、一些参数

#### 6.1 曝光

![image-20230609095828430](illustration/image-20230609095828430.png)

增益：就是调节这个感光芯片的感光度

![image-20230609095959428](illustration/image-20230609095959428.png)

#### 6.2帧率

曝光时间越长，帧率就会越低。

![image-20230609100240193](illustration/image-20230609100240193.png)

#### 6.3 白平衡

![image-20230609100445526](illustration/image-20230609100445526.png)

#### 6.4 靶面尺寸

指的是感光原件的对角线长度。

![image-20230609100844121](illustration/image-20230609100844121.png)

#### 6.5 像素位深

![image-20230609102432826](illustration/image-20230609102432826.png)

#### 6.6 相机输出接口

![image-20230609102557347](illustration/image-20230609102557347.png)

还有CameraLink相机和CoaXPress相机的区别：

CameraLink相机和CoaXPress相机的区别有一下几方面：

1、帧率。两者最大的区别在于帧率，就是每分钟所拍照的次数。很明显CoaXPress相机的传输速度明显要高很多，大概3倍左右。

2、软件控制。CameraLink相机有专门的相机控制软件，而CoaXPress相机没有，只有靠图像采集卡来控制。

3、附件部分。CameraLink相机所用线缆长度不能太长，一般不能超过5米，不然传输信号会有损失，而CoaXPress相机所用线缆可以做到上百米而信号稳定。

#### 6.7 分辨率要如何确定



![image-20230609102650929](illustration/image-20230609102650929.png)

### 7、海康工业相机的型号怎么看

![image-20230609102932820](illustration/image-20230609102932820.png)

 

### 8、工业相机样子示例。

[视频地址](https://www.bilibili.com/video/BV13u4y1Z7eX?t=581.7&p=23)。

![image-20230609103150012](illustration/image-20230609103150012.png)